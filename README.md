# üîç Dark Web Scanner ‚Äî Cyber Threat Intelligence Platform

> A self-hosted, open-source threat intelligence platform built for the Philippine and Southeast Asian security landscape. Crawls .onion networks, monitors Telegram channels, tracks ransomware groups, profiles threat actors, and delivers a daily intelligence digest ‚Äî all from a single Docker deployment.

[![License: AGPL v3](https://img.shields.io/badge/License-AGPL%20v3-blue.svg)](https://www.gnu.org/licenses/agpl-3.0)

---

## ‚ö° Quick Deploy

```bash
curl -fsSL https://raw.githubusercontent.com/osintph/darkweb-scanner/main/deploy.sh -o /tmp/deploy.sh && sudo bash /tmp/deploy.sh
```

Works on Ubuntu 22.04/24.04, Debian, and most Debian-based distros. The script installs Docker, clones the repo, configures Tor, generates secrets, sets up Nginx with SSL, and starts all services automatically.

> **Note:** After deployment, visit `https://YOUR_SERVER_IP/register` to create your admin account. Registration is only open when no users exist ‚Äî it closes automatically after the first account is created.

### With a real domain and SSL certificate

```bash
DOMAIN=scanner.yourdomain.com SSL_EMAIL=you@example.com \
  curl -fsSL https://raw.githubusercontent.com/osintph/darkweb-scanner/main/deploy.sh -o /tmp/deploy.sh && \
  sudo bash /tmp/deploy.sh
```

---

## üß© Features

- **Dark Web Crawler** ‚Äî async Tor-based crawler for .onion sites, configurable keyword monitoring, real-time alerts
- **Telegram Scraper** ‚Äî monitors public Telegram channels for keyword hits using the same engine as the crawler
- **Projects** ‚Äî scoped monitoring engagements with per-project keywords, target domains, entities, and hit tracking
- **IP Investigation** ‚Äî parallel AbuseIPDB + VirusTotal lookups with geolocation, ASN, and history
- **DNS Reconnaissance** ‚Äî full passive/active DNS recon, zone transfer attempts, certificate transparency, SPF/DMARC analysis
- **Ransomware Tracker** ‚Äî live tracking of active ransomware groups with SEA/PH regional focus
- **Threat Actor Profiles** ‚Äî structured APT and cybercriminal profiles relevant to Southeast Asia
- **Daily Digest** ‚Äî morning email with CISA KEV, OTX pulses, abuse.ch feeds, and curated RSS ‚Äî delivered via Mailgun
- **Authentication** ‚Äî bcrypt passwords, TOTP 2FA, optional Google/GitHub OAuth, role-based access control
- **Multi-user** ‚Äî admin and regular user roles, per-user project ownership

---

## üöÄ Deployment

### Requirements

- Fresh Linux server (Ubuntu 22.04/24.04 recommended)
- 1GB RAM minimum, 2GB recommended
- Ports 80 and 443 open
- A domain name (optional but recommended for trusted SSL)

### First-time setup after deploy

1. Visit `https://YOUR_SERVER_IP/register` and create your admin account
2. Edit your configuration:
   ```bash
   nano ~/darkweb-scanner/.env
   nano ~/darkweb-scanner/config/keywords.yaml
   nano ~/darkweb-scanner/config/seeds.txt
   ```
3. Restart to apply config changes:
   ```bash
   cd ~/darkweb-scanner && docker compose restart dashboard
   ```

### Updating

```bash
cd ~/darkweb-scanner
git pull
docker compose build --no-cache
docker compose up -d
```

---

## ‚öôÔ∏è Configuration

All configuration lives in `.env`. **Never commit this file.**

### Essential variables

| Variable | Description |
|----------|-------------|
| `DASHBOARD_SECRET_KEY` | Flask session secret ‚Äî change this |
| `TOR_CONTROL_PASSWORD` | Auto-generated by deploy script |
| `DATABASE_URL` | SQLite (default) or PostgreSQL |

### Threat intelligence feeds

| Variable | Description |
|----------|-------------|
| `OTX_API_KEY` | AlienVault OTX ‚Äî free at otx.alienvault.com |
| `ABUSEIPDB_API_KEY` | AbuseIPDB ‚Äî free tier: 1,000 checks/day |
| `VIRUSTOTAL_API_KEY` | VirusTotal ‚Äî free tier: 4 req/min |

### Daily digest (Mailgun)

| Variable | Description |
|----------|-------------|
| `MAILGUN_API_KEY` | Mailgun API key |
| `MAILGUN_DOMAIN` | Your Mailgun sending domain |
| `MAILGUN_FROM` | Sender address |

### Telegram scraper

| Variable | Description |
|----------|-------------|
| `TELEGRAM_API_ID` | From my.telegram.org/apps |
| `TELEGRAM_API_HASH` | From my.telegram.org/apps |
| `TELEGRAM_CHANNELS` | Comma-separated channel usernames (no @) |

### Alerting

| Variable | Description |
|----------|-------------|
| `ALERT_WEBHOOK_URL` | Slack or Discord webhook URL |
| `SMTP_HOST` / `SMTP_PORT` | SMTP server for email alerts |
| `SMTP_USER` / `SMTP_PASSWORD` | SMTP credentials |
| `ALERT_EMAIL_FROM` / `ALERT_EMAIL_TO` | Alert email addresses |

---

## üìÅ Project Structure

```
config/
  keywords.yaml        # keyword monitoring rules
  seeds.txt            # .onion seed URLs for the crawler
docs/                  # feature documentation
src/darkweb_scanner/
  crawler.py           # async Tor crawler
  scanner.py           # keyword matching engine
  storage.py           # SQLAlchemy models and storage layer
  feeds.py             # OTX, CISA, abuse.ch, RSS feeds
  digest.py            # daily email digest
  dns_crawler.py       # DNS reconnaissance module
  ip_lookup.py         # IP investigation module
  telegram_scraper.py  # Telegram channel scraper
  threat_actors.py     # threat actor profile data
  ransomware_data.py   # ransomware group data
  dashboard/
    app.py             # Flask application factory
    auth_routes.py     # login, register, TOTP, OAuth
    dashboard_routes.py # all API and dashboard routes
    templates/
      index.html       # single-page dashboard UI
docker/
  app/Dockerfile
  tor/Dockerfile
deploy.sh              # zero-prerequisite deployment script
```

---

## üîß Useful Commands

```bash
# Run from ~/darkweb-scanner

make scan          # run a crawl (foreground)
make check-tor     # verify Tor connectivity
make stats         # show scan statistics
make hits          # show recent keyword hits
make logs          # tail all container logs
make stop          # stop all containers
```

---

## üó∫Ô∏è Roadmap

- Breach data search (HIBP integration)
- Certificate transparency monitoring
- Mobile interface
- Expanded SEA/PH threat actor profiles and keyword coverage

---

## üìÑ License

Licensed under the **GNU Affero General Public License v3.0 (AGPL-3.0-only)**.

You may use, modify, and distribute this software. If you run a modified version as a network service, you must make the source code available to users of that service.

See the [LICENSE](LICENSE) file for the full text.

---

## ü§ù Contributing

Pull requests are welcome. If you're a Philippine or Southeast Asian security researcher and want to collaborate on keyword lists, threat actor data, or regional intelligence coverage ‚Äî please reach out.

Issues and feature requests: https://github.com/osintph/darkweb-scanner/issues

**OSINT PH:** https://www.osintph.info

