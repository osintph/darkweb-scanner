# ════════════════════════════════════════════════════════════
#  Dark Web Scanner — Environment Configuration
#  Copy this file to .env and fill in your values.
#  NEVER commit .env to version control.
# ════════════════════════════════════════════════════════════

# ── Tor ──────────────────────────────────────────────────────
TOR_SOCKS_HOST=tor
TOR_SOCKS_PORT=9050
TOR_CONTROL_PORT=9051
# Generate with: docker run --rm debian:bookworm-slim apt-get install -y tor && tor --hash-password yourpassword
TOR_CONTROL_PASSWORD=changeme

# ── Crawling ─────────────────────────────────────────────────
MAX_DEPTH=3
MAX_CONCURRENT_REQUESTS=10
CRAWL_DELAY_MIN=2
CRAWL_DELAY_MAX=8
REQUEST_TIMEOUT=30
ROTATE_CIRCUIT_EVERY=50
MAX_PAGES_PER_DOMAIN=100
STAY_ON_DOMAIN=false

# ── Database ─────────────────────────────────────────────────
# SQLite (default — no extra setup needed)
DATABASE_URL=sqlite:////app/data/results.db

# PostgreSQL (uncomment to use instead)
# DATABASE_URL=postgresql://user:password@localhost:5432/darkweb_scanner

# ── Alerting: Webhook (Slack / Discord) ──────────────────────
# Leave blank to disable
ALERT_WEBHOOK_URL=

# ── Alerting: Email ──────────────────────────────────────────
# Leave blank to disable
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
ALERT_EMAIL_FROM=
ALERT_EMAIL_TO=

# ── Dashboard ────────────────────────────────────────────────
DASHBOARD_PORT=8080
# Change this to a long random string in production
DASHBOARD_SECRET_KEY=change-me-to-a-long-random-string

# ── Logging ──────────────────────────────────────────────────
LOG_LEVEL=INFO

# ── SSL / Domain (Nginx) ──────────────────────────────────────────────────────
# Leave DOMAIN blank to use self-signed SSL (good for local/LAN use)
# Set DOMAIN to your public domain to get a free Let's Encrypt certificate
DOMAIN=
# Required if DOMAIN is set — used for Let's Encrypt certificate registration
SSL_EMAIL=

# ── OAuth — Google (optional) ─────────────────────────────────────────────────
# Get credentials at: https://console.cloud.google.com/apis/credentials
# Authorized redirect URI: https://yourdomain.com/oauth/google/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ── OAuth — GitHub (optional) ─────────────────────────────────────────────────
# Get credentials at: https://github.com/settings/applications/new
# Authorization callback URL: https://yourdomain.com/oauth/github/callback
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ── Telegram Scraper (optional) ───────────────────────────────────────────────
# Get API credentials at: https://my.telegram.org/apps
# Run 'make telegram-auth' once to authenticate before scanning
TELEGRAM_API_ID=
TELEGRAM_API_HASH=
# Comma-separated list of public channel usernames (without @)
TELEGRAM_CHANNELS=channelname1,channelname2
TELEGRAM_SESSION_PATH=/app/data/telegram.session
TELEGRAM_LIMIT_PER_CHANNEL=200

# ── Investigations (optional) ─────────────────────────────────────────────────
# HIBP API key for breach lookups: https://haveibeenpwned.com/API/Key ($3.50/month)
HIBP_API_KEY=
